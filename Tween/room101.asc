// GUI Tests (room 6) script file

int _gTestX, _gTestY, _gTestWidth, _gTestHeight;

function SaveTestGUI() {
  _gTestX = gTest.X;
  _gTestY = gTest.Y;
  _gTestWidth = gTest.Width;
  _gTestHeight = gTest.Height;
}

function RestoreTestGUI() {
  gTest.X = _gTestX;
  gTest.Y = _gTestY;
  gTest.Width = _gTestWidth;
  gTest.Height = _gTestHeight;
}

function testGUIBounds() {
  gTest.TweenPosition(0.5, -Screen.Width, -Screen.Height);
  Expect.EqualsInt("X", gTest.X, -Screen.Width);
  Expect.EqualsInt("Y", gTest.Y, -Screen.Height);
  
  gTest.TweenPosition(0.5, Screen.Width + 1, Screen.Height + 1);
  Expect.EqualsInt("X", gTest.X, Screen.Width + 1);
  Expect.EqualsInt("X", gTest.Y, Screen.Height + 1);
  
  RestoreTestGUI();
  
  gTest.TweenSize(1.0, 0, 0);
  Expect.EqualsInt("Width is 0", gTest.Width, 1);
  Expect.EqualsInt("Height is 0", gTest.Height, 1);
  
  gTest.TweenSize(1.0, Screen.Width * 2, Screen.Height * 2);
  Expect.EqualsInt("Width", gTest.Width, Screen.Width * 2);
  Expect.EqualsInt("Height", gTest.Height, Screen.Height * 2);
  
  RestoreTestGUI();
}

function room_AfterFadeIn()
{
  testGUIBounds();
  player.ChangeRoom(99);
}

function room_Load()
{
  SaveTestGUI();
  gTest.Visible = true;
}

function room_Leave()
{
  gTest.Visible = false;
  RestoreTestGUI();
}

function room_RepExec()
{

}
