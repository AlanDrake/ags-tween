// Room Character, Object Tests (room 301) script file

function _characterTintTest() {
#ifdef SCRIPT_API_v341
  Test("Character Tint");
  cHiRes.ChangeRoom(player.Room);
  cHiRes.Tint(255, 255, 255, 100, 100);
  cHiRes.TweenTintRed(0.5, 0);
  ExpectIntToBe("TintRed", cHiRes.TintRed, 0);

  cHiRes.Tint(255, 255, 255, 100, 100);
  cHiRes.TweenTintGreen(0.5, 0);
  ExpectIntToBe("TintGreen", cHiRes.TintGreen, 0);

  cHiRes.Tint(255, 255, 255, 100, 100);
  cHiRes.TweenTintBlue(0.5, 0);
  ExpectIntToBe("TintBlue", cHiRes.TintBlue, 0);

  cHiRes.Tint(255, 0, 0, 100, 100);
  cHiRes.TweenTintSaturation(0.5, 0);
  ExpectIntToBe("TintSaturation", cHiRes.TintSaturation, 0);

  cHiRes.Tint(255, 0, 0, 100, 100);
  cHiRes.TweenTintLuminance(0.5, 0);
  ExpectIntToBe("TintLuminance", cHiRes.TintLuminance, 0);

  cHiRes.Tint(255, 255, 255, 100, 100);
  cHiRes.TweenTint(0.5, 0, 0, 0, 0, 0);
  ExpectIntToBe("Tint TintRed", cHiRes.TintRed, 0);
  ExpectIntToBe("Tint TintGreen", cHiRes.TintGreen, 0);
  ExpectIntToBe("Tint TintBlue", cHiRes.TintBlue, 0);
  ExpectIntToBe("Tint TintSaturation", cHiRes.TintSaturation, 0);
  ExpectIntToBe("Tint TintLuminance", cHiRes.TintLuminance, 0);

  cHiRes.RemoveTint();

  cHiRes.TweenTintRed(5.0, 255, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTintRed(eFinishTween);
  ExpectIntToBe("StopTweenTintRed", cHiRes.TintRed, 255);

  cHiRes.TweenTintGreen(5.0, 255, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTintGreen(eFinishTween);
  ExpectIntToBe("StopTweenTintGreen", cHiRes.TintGreen, 255);

  cHiRes.TweenTintBlue(5.0, 255, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTintBlue(eFinishTween);
  ExpectIntToBe("StopTweenTintBlue", cHiRes.TintBlue, 255);

  cHiRes.TweenTintSaturation(5.0, 100, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTintSaturation(eFinishTween);
  ExpectIntToBe("StopTweenTintSaturation", cHiRes.TintSaturation, 100);

  cHiRes.TweenTintLuminance(5.0, 100, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTintLuminance(eFinishTween);
  ExpectIntToBe("StopTweenTintLuminance", cHiRes.TintLuminance, 100);

  cHiRes.RemoveTint();
  cHiRes.TweenTint(5.0, 255, 255, 255, 100, 100, eEaseLinearTween, eNoBlockTween);
  cHiRes.StopTweenTint(eFinishTween);
  ExpectIntToBe("StopTweenTint Red", cHiRes.TintRed, 255);
  ExpectIntToBe("StopTweenTint Green", cHiRes.TintGreen, 255);
  ExpectIntToBe("StopTweenTint Blue", cHiRes.TintBlue, 255);
  ExpectIntToBe("StopTweenTint Saturation", cHiRes.TintSaturation, 100);
  ExpectIntToBe("StopTweenTint Luminance", cHiRes.TintLuminance, 100);

  cHiRes.RemoveTint();
  cHiRes.ChangeRoom(0);
#endif
}

function _objectTweenTest() {
#ifdef SCRIPT_API_v341
  Test("Object Tint");
  oHiRes.Visible = true;
  oHiRes.Tint(255, 255, 255, 100, 100);
  oHiRes.TweenTintRed(0.5, 0);
  ExpectIntToBe("TintRed", oHiRes.TintRed, 0);

  oHiRes.Tint(255, 255, 255, 100, 100);
  oHiRes.TweenTintGreen(0.5, 0);
  ExpectIntToBe("TintGreen", oHiRes.TintGreen, 0);

  oHiRes.Tint(255, 255, 255, 100, 100);
  oHiRes.TweenTintBlue(0.5, 0);
  ExpectIntToBe("TintBlue", oHiRes.TintBlue, 0);

  oHiRes.Tint(255, 0, 0, 100, 100);
  oHiRes.TweenTintSaturation(0.5, 0);
  ExpectIntToBe("TintSaturation", oHiRes.TintSaturation, 0);

  oHiRes.Tint(255, 0, 0, 100, 100);
  oHiRes.TweenTintLuminance(0.5, 0);
  ExpectIntToBe("TintLuminance", oHiRes.TintLuminance, 0);

  oHiRes.Tint(255, 255, 255, 100, 100);
  oHiRes.TweenTint(0.5, 0, 0, 0, 0, 0);
  ExpectIntToBe("Tint TintRed", oHiRes.TintRed, 0);
  ExpectIntToBe("Tint TintGreen", oHiRes.TintGreen, 0);
  ExpectIntToBe("Tint TintBlue", oHiRes.TintBlue, 0);
  ExpectIntToBe("Tint TintSaturation", oHiRes.TintSaturation, 0);
  ExpectIntToBe("Tint TintLuminance", oHiRes.TintLuminance, 0);

  oHiRes.RemoveTint();

  oHiRes.TweenTintRed(5.0, 255, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTintRed(eFinishTween);
  ExpectIntToBe("StopTweenTintRed", oHiRes.TintRed, 255);

  oHiRes.TweenTintGreen(5.0, 255, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTintGreen(eFinishTween);
  ExpectIntToBe("StopTweenTintGreen", oHiRes.TintGreen, 255);

  oHiRes.TweenTintBlue(5.0, 255, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTintBlue(eFinishTween);
  ExpectIntToBe("StopTweenTintBlue", oHiRes.TintBlue, 255);

  oHiRes.TweenTintSaturation(5.0, 100, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTintSaturation(eFinishTween);
  ExpectIntToBe("StopTweenTintSaturation", oHiRes.TintSaturation, 100);

  oHiRes.TweenTintLuminance(5.0, 100, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTintLuminance(eFinishTween);
  ExpectIntToBe("StopTweenTintLuminance", oHiRes.TintLuminance, 100);

  oHiRes.RemoveTint();
  oHiRes.TweenTint(5.0, 255, 255, 255, 100, 100, eEaseLinearTween, eNoBlockTween);
  oHiRes.StopTweenTint(eFinishTween);
  ExpectIntToBe("StopTweenTint Red", oHiRes.TintRed, 255);
  ExpectIntToBe("StopTweenTint Green", oHiRes.TintGreen, 255);
  ExpectIntToBe("StopTweenTint Blue", oHiRes.TintBlue, 255);
  ExpectIntToBe("StopTweenTint Saturation", oHiRes.TintSaturation, 100);
  ExpectIntToBe("StopTweenTint Luminance", oHiRes.TintLuminance, 100);

  oHiRes.RemoveTint();
  oHiRes.Visible = true;
#endif
}

function room_AfterFadeIn()
{
  StartCutscene(eSkipESCOnly);
  _characterTintTest();
  _objectTweenTest();
  EndCutscene();
  player.ChangeRoom(99);
}

function room_Load()
{
  player.Transparency = 100;
  Tween.IncreaseGameSpeed();
}

function room_FirstLoad()
{

}

function room_Leave()
{
  player.Transparency = 0;
  Tween.RestoreGameSpeed();
}

function room_RepExec()
{

}
